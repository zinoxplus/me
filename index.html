<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LMC | Gaming HUD</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="LMC Dark Gaming Profile | FPS HUD | Steam Safe">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
*{box-sizing:border-box;font-family:Segoe UI,sans-serif;}
body{margin:0;background:#000;color:#fff;overflow:hidden;}

/* ===== Background ===== */
.bg{position:fixed;inset:0;background:url('bg.jpg') center/cover no-repeat;filter:blur(6px) brightness(.7);z-index:-3;}
.overlay{position:fixed;inset:0;background:radial-gradient(circle at top,#00ffff22,#000c);z-index:-2;}

/* ===== HUD ===== */
.hud{position:fixed;inset:20px;border:2px solid #00ffff55;border-radius:18px;pointer-events:none;box-shadow:0 0 35px #00ffff33,inset 0 0 25px #00ffff22;}
.hud::before,.hud::after{content:'';position:absolute;width:60px;height:60px;border:2px solid #00ffffaa;}
.hud::before{top:-2px;left:-2px;border-right:none;border-bottom:none}
.hud::after{bottom:-2px;right:-2px;border-left:none;border-top:none}

/* ===== Steam Button ===== */
.steam-btn{position:fixed;top:30px;right:30px;padding:12px 18px;border-radius:40px;background:linear-gradient(45deg,#0ff,#0066ff);color:#000;font-weight:bold;text-decoration:none;box-shadow:0 0 25px #0ff;z-index:10;}

/* ===== Player ===== */
.container{max-width:900px;margin:120px auto;padding:20px;}
.player{background:#0b0f1add;border-radius:22px;padding:25px;text-align:center;box-shadow:0 0 45px #00ffff55;backdrop-filter:blur(10px);border:1px solid #00ffff55;}
.controls i{font-size:30px;margin:15px;cursor:pointer;color:#00ffff;text-shadow:0 0 12px #00ffff;}
.track{padding:10px;margin:6px 0;border-radius:10px;cursor:pointer;border:1px solid #00ffff22;}
.track.active{background:#00ffff22;box-shadow:0 0 15px #00ffff;}

/* ===== Rain Canvas ===== */
#rain{position:fixed;inset:0;z-index:-1;}
</style>
</head>
<body>

<div class="bg"></div>
<div class="overlay"></div>
<canvas id="rain"></canvas>
<div class="hud"></div>

<a class="steam-btn" target="_blank" href="https://steamcommunity.com/id/M_LMC/">
<i class="fab fa-steam"></i> Add Friend
</a>

<div class="container">
<div class="player">
<h2>LMC MUSIC</h2>

<audio id="audio" crossorigin="anonymous"></audio>

<div class="controls">
<i class="fa fa-backward" onclick="prev()"></i>
<i class="fa fa-play" onclick="playMusic()"></i>
<i class="fa fa-forward" onclick="next()"></i>
</div>

<div class="track active" onclick="setTrack(0)">Mvshreghi - Vasam Ajib Bood</div>
<div class="track" onclick="setTrack(1)">Mvshreghi - Adhd</div>

</div>
</div>

<script>
/* ===== Audio ===== */
const tracks = [
'https://dl.godpori.com/04/05/Mvshreghi%20-%20Vasam%20Ajib%20Bood%20[128].mp3',
'https://dl.bandmusic.ir/files/mp3/s1/01%20Mvshreghi%20-%20Adhd.mp3'
];
let i = 0;
const audio = document.getElementById('audio');
audio.src = tracks[i];
let unlocked = false;
let ctx, analyser, srcNode;

// این تابع فقط یک بار AudioContext را فعال می‌کند
function unlock(){
  if(unlocked) return;
  ctx = new (window.AudioContext || window.webkitAudioContext)();
  srcNode = ctx.createMediaElementSource(audio);
  analyser = ctx.createAnalyser();
  srcNode.connect(analyser);
  analyser.connect(ctx.destination);
  ctx.resume();
  unlocked = true;
}

// پلی موزیک بعد از کلیک کاربر
function playMusic(){
  unlock();
  audio.play();
}

// انتخاب ترک و فعال کردن کلاس active
function setTrack(n){
  i = n;
  audio.src = tracks[i];
  audio.play();
  document.querySelectorAll('.track').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.track')[i].classList.add('active');
}

// ترک بعدی و قبلی
function next(){setTrack((i+1)%tracks.length);}
function prev(){setTrack((i-1+tracks.length)%tracks.length);}

/* ===== Rain ===== */
const canvas = document.getElementById('rain');
const ctx2 = canvas.getContext('2d');
resize();
window.onresize = resize;

let drops = [];
for(let j=0;j<160;j++){
  drops.push({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*2+1,s:Math.random()*4+2});
}

function resize(){canvas.width=innerWidth;canvas.height=innerHeight;}

function rain(){
ctx2.clearRect(0,0,canvas.width,canvas.height);
ctx2.fillStyle='rgba(255,255,255,0.15)';
drops.forEach(d=>{
ctx2.beginPath();
ctx2.arc(d.x,d.y,d.r,0,Math.PI*2);
ctx2.fill();
d.y+=d.s;
if(d.y>canvas.height){d.y=-5;d.x=Math.random()*canvas.width;}
});
requestAnimationFrame(rain);
}
rain();
</script>

</body>
</html>
